### MCP Server SSE 连接测试
# 用于测试 MCP Server 的 SSE 端点

### 获取 SSE 事件流
GET http://localhost:9090/sse
Accept: text/event-stream

###

### 如果 MCP 使用 HTTP endpoint，可以测试初始化
POST http://localhost:9090/mcp
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "method": "initialize",
  "id": 1,
  "params": {
    "protocolVersion": "2024-11-05",
    "clientInfo": {
      "name": "test-client",
      "version": "1.0.0"
    },
    "capabilities": {}
  }
}

###

### 列出可用工具
POST http://localhost:9090/mcp
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "method": "tools/list",
  "id": 2,
  "params": {}
}

###

### 调用 get_event_data 工具
POST http://localhost:9090/mcp
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "method": "tools/call",
  "id": 3,
  "params": {
    "name": "get_event_data",
    "arguments": {
      "outage_number": "TEST-001"
    }
  }
}

###

### 调用 get_weather_data 工具
POST http://localhost:9090/mcp
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "method": "tools/call",
  "id": 4,
  "params": {
    "name": "get_weather_data",
    "arguments": {
      "outage_number": "TEST-001",
      "analysis_type": 1
    }
  }
}

###

### 调用 get_device_info_data 工具
POST http://localhost:9090/mcp
Content-Type: application/json

{
  "jsonrpc": "2.0",
  "method": "tools/call",
  "id": 5,
  "params": {
    "name": "get_device_info_data",
    "arguments": {
      "outage_number": "TEST-001"
    }
  }
}

